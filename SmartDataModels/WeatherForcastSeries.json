{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"$schemaVersion": "0.0.3",
	"modelTags": "",
	"$id": "https://raw.githubusercontent.com/PGTEC-VRAIN/SmartFlow/main/SmartDataModels/WeatherForcastSeries.json",
	"title": " - Weather Forecast schema",
	"description": "A harmonised description of a Weather Forecast Series.",
	"type": "object",
	"allOf": [
		{
			"$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/GSMA-Commons"
		},
		{
			"$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/Location-Commons"
			},
		{
			"properties": {
				"type": {
					"type": "string",
					"enum": [
						"WeatherForecast"
					],
					"description": "Property. NGSI Entity type. It has to be WeatherForecast."
				},
				"weatherType": {
					"type": "string",
					"description": "Property. Text description of the weather. Model:'http://schema.org/Text'."
				},
				"visibility": {
					"description": "Property. Model:'http://schema.org/Text'. Categories of visibility.",
					"anyOf": [
						{
							"type": "array",
							"items": "string",
							"enum": [
								"veryPoor",
								"poor",
								"moderate",
								"good",
								"veryGood",
								"excellent"
							]
						},
						{
							"type": "array",
							"items": "number",
							"minimum": 0
						}
					]
				},
				"windDirection": {
					"type": "array",
					"items": "number",
					"description": "Property. Model:'http://schema.org/Number'. Direction of the wind.",
					"minimum": 0,
					"maximum": 360
				},
				"windSpeed": {
					"type": "array",
					"items": "number",
					"description": "Property. Model:'http//schema.org/Number'. Intensity of the wind.",
					"minimum": 0
				},
				"gustSpeed": {
					"type": "array",
					"items": "number",
					"description": "Property. A sudden burst of high-speed wind over the observed average wind speed lasting only for a few seconds."
				},
				"refPointOfInterest": {
					"type": "string",
					"description": "Relationship. Model:'http://schema.org/URL'. Point of interest related to the item."
				},
				"atmosphericPressure": {
					"type": "array",
					"items": "number",
					"minimum": 0,
					"description": "Property. Model:'https://schema.org/Number'. The atmospheric pressure observed measured in Hecto Pascals. Units:'Hecto pascals'."
				},
				"illuminance": {
					"type": "array",
					"items": "number",
					"minimum": 0,
					"description": "Property. Model:'https://schema.org/Number'. (https://en.wikipedia.org/wiki/Illuminance) observed measured in lux (lx) or lumens per square metre (cd·sr·m−2). Units:'Lux'."
				},
				"temperature": {
					"type": "array",
					"items": "number",
					"description": "Property. Temperature of the item."
				},
				"feelsLikeTemperature": {
					"type": "array",
					"items": "number",
					"description": "Property. Temperature appreciation of the item."
				},
				"relativeHumidity": {
					"type": "array",
					"items": "number",
					"minimum": 0,
					"maximum": 1,
					"description": "Property. Humidity in the Air. Observed instantaneous relative humidity (water vapour in air)."
				},
				"dateRetrieved": {
					"type": "string",
					"format": "date-time",
					"description": "Property. Model:'https://schema.org/DateTime'. The date and time the forecast was retrieved in ISO8601 UTC format."
				},
				"dateIssued": {
					"type": "string",
					"format": "date-time",
					"description": "Property. Model:'https://schema.org/DateTime'. The date and time the forecast was issued by the meteorological bureau in ISO8601 UTC format."
				},
				"validity": {
					"type": "string",
					"description": "Property. Model:'https://schema.org/Text'. Includes the validity period for this forecast as a ISO8601 time interval. As a workaround for the lack of support of Orion Context Broker for datetime intervals, it can be used two separate attributes: `validFrom`, `validTo`."
				},
				"validFrom": {
					"type": "string",
					"format": "date-time",
					"description": "Property. Model:'https://schema.org/Text'. ISO8601 UTC date and time of the first prediction of the series."
				},
				"validTo": {
					"type": "string",
					"format": "date-time",
					"description": "Property. Model:'https://schema.org/Text'. ISO8601 UTC date and time of the last prediction of the series."
				},
				"dayMaximum": {
					"type": "object",
					"description": "Property. Model:'https://schema.org/StructuredValue'. Maximum values for the reported period. Subattributes:- `temperature` : Maximum temperature. See `WeatherForecast.temperature` for description and units. - `feelLikesTemperature`. Maximum feels like temperature. Same semantics and units as `WeatherForecast.feelsLikeTemperature`.-   `relativeHumidity`. Maximum relative humidity. Same semantics and units as `WeatherForecast.relativeHumidity`.",
					"properties": {
						"temperature": {
							"$ref": "https://smart-data-models.github.io/dataModel.Weather/weather-schema.json#/definitions/Weather-AirConditions/properties/temperature."
						},
						"feelLikesTemperature": {
							"$ref": "https://smart-data-models.github.io/dataModel.Weather/weather-schema.json#/definitions/Weather-AirConditions/properties/feelLikesTemperature."
						},
						"relativeHumidity": {
							"$ref": "https://smart-data-models.github.io/dataModel.Weather/weather-schema.json#/definitions/Weather-AirConditions/properties/relativeHumidity."
						}
					}
				},
				"dayMinimum": {
					"type": "object",
					"description": "Property. Model:'https://schema.org/Text'. Minimum values forecasted for the reported period.  Minimum values for the reported period. Subattributes:- `temperature` : Minimum temperature. See `WeatherForecast.temperature` for description and units. - `feelLikesTemperature`. Minimum feels like temperature. Same semantics and units as `WeatherForecast.feelsLikeTemperature`.- `relativeHumidity`. Minimum relative humidity. Same semantics and units as `WeatherForecast.relativeHumidity`.",
					"properties": {
						"temperature": {
							"$ref": "https://smart-data-models.github.io/dataModel.Weather/weather-schema.json#/definitions/Weather-AirConditions/properties/temperature."
						},
						"feelLikesTemperature": {
							"$ref": "https://smart-data-models.github.io/dataModel.Weather/weather-schema.json#/definitions/Weather-AirConditions/properties/feelLikesTemperature."
						},
						"relativeHumidity": {
							"$ref": "https://smart-data-models.github.io/dataModel.Weather/weather-schema.json#/definitions/Weather-AirConditions/properties/relativeHumidity."
						}
					} 
				},
				"uVIndexMax": {
					"type": "array",
					"items": "number",
					"description": "Property. Model:'https://schema.org/Number'. The maximum UV index for the period, based on the World Health Organization's UV Index measure. Normative references: [http://www.who.int/uv/intersunprogramme/activities/uv_index/en/](http://www.who.int/uv/intersunprogramme/activities/uv_index/en/).",
					"minimum": 0
				},
				"precipitation": {
					"type": "array",
					"items": "number",
					"minimum": 0,
					"description": "Property. Model:'https://schema.org/Number'. Amount of water rain expected. Units:'Liters per square meter'."
				},
				"precipitationProbability": {
					"type": "array",
					"items": "number",
					"minimum": 0,
					"description": "Property. Model:'https://schema.org/Number'. Probability of rainfall."
				}
			}
		}
	],
	"required": [
		"id",
		"type",
		"dateIssued"
	]
}